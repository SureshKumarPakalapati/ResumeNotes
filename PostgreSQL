
<!DOCTYPE html>
<html>
<head><meta name='viewport' content='width=device-width, initial-scale=1.0'/>
<meta charset='utf-8'>
<title>PostgreSQL CLI Cheat Sheet - Kapeli</title>
<link href='style.css' rel='stylesheet'>
<link href='//dash_ref/Category/Connecting to PostgreSQL/1'>
<link href='//dash_ref_Connecting to PostgreSQL/Entry/Change to Postgres user and open psql prompt/0'>
<link href='//dash_ref_Connecting to PostgreSQL/Entry/Connect to my_database with role my_username and prompt for password. Requires md5 or password authentication./0'>
<link href='//dash_ref/Category/Working with Databases/1'>
<link href='//dash_ref_Working with Databases/Entry/Connect to a database/0'>
<link href='//dash_ref_Working with Databases/Entry/Backup a database/0'>
<link href='//dash_ref_Working with Databases/Entry/Create a database/0'>
<link href='//dash_ref_Working with Databases/Entry/Drop a database/0'>
<link href='//dash_ref/Category/List Information/1'>
<link href='//dash_ref_List Information/Entry/List databases/0'>
<link href='//dash_ref_List Information/Entry/List roles/0'>
<link href='//dash_ref_List Information/Entry/List tables in a connected DB/0'>
<link href='//dash_ref_List Information/Entry/List functions in a connected DB/0'>
<link href='//dash_ref_List Information/Entry/List functions and show info (e.g. functions owner and source) in a connected DB/0'>
<link href='//dash_ref_List Information/Entry/List columns on table/0'>
<link href='//dash_ref/Category/Roles and Privileges/1'>
<link href='//dash_ref_Roles and Privileges/Entry/Create role/0'>
<link href='//dash_ref_Roles and Privileges/Entry/Alter role/0'>
<link href='//dash_ref_Roles and Privileges/Entry/Drop role/0'>
<link href='//dash_ref_Roles and Privileges/Entry/Grant privileges/0'>
</head>
<body>
<header>
<h1>PostgreSQL CLI</h1>
</header><header style='background-color: #e25252;color: white;'><h4 style='margin: 0px; padding:4px 0'>Enjoy this cheat sheet at its fullest within <a href='https://kapeli.com/dash' style='color: white;'>Dash</a>, the macOS documentation browser.</h4></header><article>
<p></p>
<section class='category'>
<h2 id='//dash_ref/Category/Connecting to PostgreSQL/1'>
Connecting to PostgreSQL
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Connecting to PostgreSQL/Entry/Change to Postgres user and open psql prompt/0'>
<td class='command'>
<p>
<code>sudo -u postgres psql postgres</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Change to Postgres user and open psql prompt</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Connecting to PostgreSQL/Entry/Connect to my_database with role my_username and prompt for password. Requires md5 or password authentication./0'>
<td class='command'>
<p>
<code>psql -d my_database -U my_username -W</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Connect to <code>my_database</code> with role <code>my_username</code> and prompt for password. Requires md5 or password authentication.</p>
</div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Working with Databases/1'>
Working with Databases
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Working with Databases/Entry/Connect to a database/0'>
<td class='command'>
<p>
<code>\c &lt;database name&gt;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Connect to a database</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Working with Databases/Entry/Backup a database/0'>
<td class='command'>
<p>
<code>pg_dump &lt;database name&gt; &gt; &lt;outfile&gt;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Backup a database</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Working with Databases/Entry/Create a database/0'>
<td class='command'>
<p>
<code>CREATE DATABASE demodb1;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Create a database</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Working with Databases/Entry/Drop a database/0'>
<td class='command'>
<p>
<code>DROP DATABASE demodb1;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Drop a database</p>
</div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/List Information/1'>
List Information
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_List Information/Entry/List databases/0'>
<td class='command'>
<p>
<code>\l</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List databases</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_List Information/Entry/List roles/0'>
<td class='command'>
<p>
<code>\du</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List roles</p>
</div>
<div class='notes'><p>Think &quot;describe users&quot;</p>
</div>
</td>
</tr>
<tr id='//dash_ref_List Information/Entry/List tables in a connected DB/0'>
<td class='command'>
<p>
<code>\dt</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List tables in a connected DB</p>
</div>
<div class='notes'><p>Think &quot;describe tables&quot;</p>
</div>
</td>
</tr>
<tr id='//dash_ref_List Information/Entry/List functions in a connected DB/0'>
<td class='command'>
<p>
<code>\df</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List functions in a connected DB</p>
</div>
<div class='notes'><p>Think &quot;describe functions&quot;</p>
</div>
</td>
</tr>
<tr id='//dash_ref_List Information/Entry/List functions and show info (e.g. functions owner and source) in a connected DB/0'>
<td class='command'>
<p>
<code>\df+</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List functions and show info (e.g. functions owner and source) in a connected DB</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_List Information/Entry/List columns on table/0'>
<td class='command'>
<p>
<code>\d &lt;tablename&gt;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>List columns on table</p>
</div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Roles and Privileges/1'>
Roles and Privileges
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Roles and Privileges/Entry/Create role/0'>
<td class='command'>
<p>
<code>CREATE ROLE demorole1 WITH LOGIN ENCRYPTED PASSWORD &#39;password1&#39; CREATEDB;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Create role</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Roles and Privileges/Entry/Alter role/0'>
<td class='command'>
<p>
<code>ALTER ROLE demorole1 CREATEROLE CREATEDB REPLICATION SUPERUSER;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Alter role</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Roles and Privileges/Entry/Drop role/0'>
<td class='command'>
<p>
<code>DROP ROLE demorole1;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Drop role</p>
</div>
<div class='notes'></div>
</td>
</tr>
<tr id='//dash_ref_Roles and Privileges/Entry/Grant privileges/0'>
<td class='command'>
<p>
<code>GRANT ALL PRIVILEGES ON DATABASE demodb1 TO demorole1;</code>
</p>
</td>
<td class='description'>
<div class='name'><p>Grant privileges</p>
</div>
<div class='notes'></div>
</td>
</tr>
</table>
</div>
</section>
</article>
<footer>
You can modify and improve this cheat sheet <a onclick="window.dash.openExternal_(this.href); return false;" href="http://cheat.kapeli.com">here</a>
</footer>
</body>
</html>
